# ==============================================
# TRAFFIC PREDICTION SYSTEM - ENVIRONMENT TEMPLATE
# ==============================================
# Copy this file to .env and fill in your values
# This template is safe to commit to version control
# ==============================================

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=traffic_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD

DATABASE_URL=postgresql://postgres:CHANGE_ME_STRONG_PASSWORD@postgres:5432/traffic_db
ASYNC_DATABASE_URL=postgresql+asyncpg://postgres:CHANGE_ME_STRONG_PASSWORD@postgres:5432/traffic_db

# ==============================================
# JWT AUTHENTICATION CONFIGURATION
# ==============================================
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_32
JWT_REFRESH_SECRET_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==============================================
# API SERVER CONFIGURATION
# ==============================================
API_HOST=0.0.0.0
API_PORT=8000
API_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# ==============================================
# KAFKA CONFIGURATION
# ==============================================
KAFKA_BOOTSTRAP_SERVERS=kafka-broker1:9092
KAFKA_SCHEMA_REGISTRY_URL=http://schema-registry:8081
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_SASL_MECHANISM=PLAIN
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=
KAFKA_TOPIC_TRAFFIC_EVENTS=traffic-events
KAFKA_TOPIC_TRAFFIC_AGGREGATES=processed-traffic-aggregates
KAFKA_TOPIC_TRAFFIC_PREDICTIONS=traffic-predictions
KAFKA_TOPIC_TRAFFIC_ALERTS=traffic-alerts

# ==============================================
# HADOOP CONFIGURATION
# ==============================================
HIVE_METASTORE_PASSWORD=CHANGE_ME_HIVE_PASSWORD
HDFS_NAMENODE_URL=hdfs://namenode:9000
HDFS_REPLICATION_FACTOR=1

# ==============================================
# QUICK START INSTRUCTIONS
# ==============================================
# 1. Copy this file: cp .env.template .env
# 2. Generate JWT secrets:
#    openssl rand -hex 32    (for JWT_SECRET_KEY)
#    openssl rand -hex 32    (for JWT_REFRESH_SECRET_KEY)
# 3. Set strong passwords for POSTGRES_PASSWORD and HIVE_METASTORE_PASSWORD
# 4. Review CORS_ORIGINS and add your frontend URL
# 5. Start services: docker-compose up -d
# ==============================================
