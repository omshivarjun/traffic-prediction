# Traffic Prediction System - Environment Variables Template
# Copy this file to .env.traffic and source it before running services
# NEVER commit actual credentials to version control!

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=traffic_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Database URLs (for SQLAlchemy)
DATABASE_URL=postgresql://postgres:CHANGE_ME@postgres:5432/traffic_db
ASYNC_DATABASE_URL=postgresql+asyncpg://postgres:CHANGE_ME@postgres:5432/traffic_db

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS=kafka-broker1:9092
KAFKA_SCHEMA_REGISTRY_URL=http://schema-registry:8081

# Kafka SASL Authentication (if enabled)
# KAFKA_SASL_MECHANISM=PLAIN
# KAFKA_SASL_USERNAME=kafka_user
# KAFKA_SASL_PASSWORD=CHANGE_ME_KAFKA_PASSWORD

# =============================================================================
# API SECURITY CONFIGURATION
# =============================================================================
# JWT Secret Key (generate with: openssl rand -hex 32)
JWT_SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_SECRET_KEY_HERE
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Keys for external services (if needed)
# API_KEY=CHANGE_ME_API_KEY

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
ENVIRONMENT=production
DEBUG=False
LOG_LEVEL=INFO

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3002,https://your-frontend-domain.com

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# HDFS CONFIGURATION
# =============================================================================
HDFS_NAMENODE_HOST=namenode
HDFS_NAMENODE_PORT=9000
HDFS_WEBHDFS_PORT=9870

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
# Enable SSL/TLS for API
ENABLE_HTTPS=false
SSL_CERT_FILE=/app/certs/server.crt
SSL_KEY_FILE=/app/certs/server.key

# PostgreSQL SSL
POSTGRES_SSL_MODE=prefer
# POSTGRES_SSL_CERT=/app/certs/postgresql.crt
# POSTGRES_SSL_KEY=/app/certs/postgresql.key
# POSTGRES_SSL_ROOT_CERT=/app/certs/root.crt

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry DSN (for error tracking)
# SENTRY_DSN=https://your-sentry-dsn-here

# Application Performance Monitoring
# APM_SERVER_URL=http://apm-server:8200
# APM_SECRET_TOKEN=CHANGE_ME_APM_TOKEN

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_WEBSOCKET=true
ENABLE_KAFKA_STREAMING=true
ENABLE_ML_PREDICTIONS=true
ENABLE_RATE_LIMITING=true
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Maximum request size (in bytes)
MAX_REQUEST_SIZE=10485760  # 10MB

# Session timeout (in seconds)
SESSION_TIMEOUT=1800  # 30 minutes

# Password policy
MIN_PASSWORD_LENGTH=12
REQUIRE_SPECIAL_CHARS=true
REQUIRE_NUMBERS=true
REQUIRE_UPPERCASE=true

# =============================================================================
# DEVELOPMENT SETTINGS (do not use in production!)
# =============================================================================
# DEV_MODE=true
# MOCK_KAFKA=false
# MOCK_DATABASE=false
